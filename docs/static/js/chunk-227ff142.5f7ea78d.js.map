{"version":3,"sources":["webpack:///./node_modules/_core-js@3.6.5@core-js/modules/es.array.find-index.js","webpack:///./node_modules/_core-js@3.6.5@core-js/modules/es.array.find.js","webpack:///./src/views/Drag/drag-item.vue?b25f","webpack:///./src/views/Drag/index.vue?3367","webpack:///./src/views/Drag/drag-item.vue?806a","webpack:///./src/views/Drag/emitter.js","webpack:///src/views/Drag/drag-item.vue","webpack:///./src/views/Drag/drag-item.vue?5d0e","webpack:///./src/views/Drag/drag-item.vue","webpack:///./src/views/Drag/drag-warp.vue?63fd","webpack:///src/views/Drag/drag-warp.vue","webpack:///./src/views/Drag/drag-warp.vue?674b","webpack:///./src/views/Drag/drag-warp.vue","webpack:///src/views/Drag/index.vue","webpack:///./src/views/Drag/index.vue?8150","webpack:///./src/views/Drag/index.vue"],"names":["$","$findIndex","findIndex","addToUnscopables","arrayMethodUsesToLength","FIND_INDEX","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","$find","find","FIND","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","list","on","watchData","_l","item","index","key","scopedSlots","_u","fn","_v","proxy","_s","staticRenderFns","style","cursor","$slots","drag","isDrag","$event","stopPropagation","onDragstart","onDragenter","onDragend","_t","broadcast","componentName","eventName","params","$children","forEach","child","name","$options","$emit","apply","concat","methods","dispatch","parent","$parent","$root","call","mixins","data","mounted","setSlotAttr","$el","opacity","dragDom","previousSibling","console","log","addEventListener","component","ref","preventDefault","created","toDom","fromDom","children","$on","el","isPrevNode","$refs","insertBefore","nextSibling","from","to","getDataOrder","dragAfterList","order","newData","i","components","props","computed","watch","beforeMount","activated","newList"],"mappings":"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","file":"static/js/chunk-227ff142.5f7ea78d.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./drag-item.vue?vue&type=style&index=0&id=72ebafb7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('drag-warp',{staticClass:\"wrap\",attrs:{\"data\":_vm.list},on:{\"watchData\":_vm.watchData}},_vm._l((_vm.list),function(item,index){return _c('drag-item',{key:index,staticClass:\"item\",scopedSlots:_vm._u([{key:\"drag\",fn:function(){return [_c('div',[_vm._v(\"拖拽Dom\")])]},proxy:true}],null,true)},[_c('div',[_vm._v(_vm._s(item))])])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"__drag_item\",style:({cursor: !_vm.$slots.drag ? 'move': ''}),attrs:{\"draggable\":!_vm.$slots.drag || _vm.isDrag},on:{\"dragstart\":function($event){$event.stopPropagation();return _vm.onDragstart($event)},\"dragenter\":function($event){$event.stopPropagation();return _vm.onDragenter($event)},\"dragend\":function($event){$event.stopPropagation();return _vm.onDragend($event)}}},[_vm._t(\"drag\"),_vm._t(\"default\"),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function broadcast(componentName, eventName, params) {\r\n  this.$children.forEach(child => {\r\n    const name = child.$options.name\r\n    if (name === componentName) {\r\n      child.$emit.apply(child, [eventName].concat(params))\r\n    } else {\r\n      broadcast.apply(child, [componentName, eventName].concat([params]))\r\n    }\r\n  })\r\n}\r\nexport default {\r\n  methods: {\r\n    dispatch(componentName, eventName, params) {\r\n      let parent = this.$parent || this.$root\r\n      let name = parent.$options.name\r\n      while (parent && (!name || name !== componentName)) {\r\n        parent = parent.$parent\r\n        if (parent) {\r\n          name = parent.$options.name\r\n        }\r\n      }\r\n      if (parent) {\r\n        parent.$emit.apply(parent, [eventName].concat(params))\r\n      }\r\n    },\r\n    broadcast(componentName, eventName, params) {\r\n      broadcast.call(this, componentName, eventName, params)\r\n    }\r\n  }\r\n}\r\n","<template>\r\n  <div\r\n    class=\"__drag_item\"\r\n    :draggable=\"!$slots.drag || isDrag\"\r\n    :style=\"{cursor: !$slots.drag ? 'move': ''}\"\r\n    @dragstart.stop=\"onDragstart\"\r\n    @dragenter.stop=\"onDragenter\"\r\n    @dragend.stop=\"onDragend\"\r\n  >  <slot name=\"drag\" />\r\n    <slot /> <slot />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Emitter from './emitter'\r\n\r\nexport default {\r\n  name: 'DragItem',\r\n  mixins: [Emitter],\r\n  data() {\r\n    return {\r\n      isDrag: false\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.$slots.drag) { // 如果有定义具名插槽drag\r\n      this.setSlotAttr()\r\n    }\r\n    this.dispatch('DragWrap', 'putChild', this.$el)\r\n  },\r\n  methods: {\r\n    onDragstart() {\r\n      this.$el.style.opacity = '0.3'\r\n      this.dispatch('DragWrap', 'dragstart', this.$el) // 触发dragstart\r\n    },\r\n    onDragenter() {\r\n      this.dispatch('DragWrap', 'dragenter', this.$el) // 触发dragenter\r\n    },\r\n    onDragend() {\r\n      this.$el.style.opacity = '1'\r\n      this.dispatch('DragWrap', 'dragend') // 触发dragend\r\n    },\r\n    setSlotAttr() {\r\n      const slotVNode = this.$slots.default.find( // 找到vnode的第一个有效节点\r\n        vnode => !vnode.data && vnode.text !== ' '\r\n      )\r\n      const dragDom = slotVNode.elm.previousSibling\r\n      // 具名插槽对应的真实Dom\r\n      if (dragDom.previousSibling !== null) {\r\n        console.log(123)\r\n        // 规定具名插槽内只能有一个根元素，否则报错~\r\n        // throw '具名插槽内只能有一个根节点~'\r\n        //\r\n      }\r\n      dragDom.addEventListener('mouseenter', () => { // 进入具名插槽的Dom，设置可拖动\r\n        this.isDrag = true\r\n      })\r\n      dragDom.addEventListener('mouseleave', () => { // 离开具名插槽的Dom，设置不可拖动\r\n        this.isDrag = false\r\n      })\r\n      dragDom.style.cursor = 'move' // 手势变为可移动\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.__drag_item {\r\n  animation: shake .3s;\r\n}\r\n@keyframes shake {\r\n  0% {\r\n    transform: translate3d(-10%, 0, 0);\r\n  }\r\n  50% {\r\n    transform: translate3d(10%, 0, 0);\r\n  }\r\n  100% {\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./drag-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./drag-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./drag-item.vue?vue&type=template&id=72ebafb7&scoped=true&\"\nimport script from \"./drag-item.vue?vue&type=script&lang=js&\"\nexport * from \"./drag-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./drag-item.vue?vue&type=style&index=0&id=72ebafb7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72ebafb7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrap\",on:{\"dragenter\":function($event){$event.preventDefault();},\"dragover\":function($event){$event.preventDefault();}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","drag-wrap.vue\r\n<template>\r\n  <div ref=\"wrap\" @dragenter.prevent @dragover.prevent>\r\n    <!--  阻止浏览器默认行为，不然会显示一个叉叉，不好看 -->\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'DragWrap', // 组件名，很重要！\r\n  created() {\r\n    this.toDom = '' // 拖拽时进入的元素\r\n    this.fromDom = '' // 拖拽起始的元素\r\n    this.children = [] // 存放所有子组件元素的集合，之后说明用途\r\n    this.$on('dragstart', this.onDragstart) // 子组件会$emit触发dragstart，所以要先注册\r\n    this.$on('dragenter', this.onDragenter) // 子组件会$emit触发dragenter，所以要先注册\r\n    this.$on('dragend', this.onDragend) // 子组件会$emit触发dragend，所以要先注册\r\n    this.$on('putChild', child => { // 这里的child对应的是子组件的this.$el\r\n      this.children.push(child) // 将所有的子组件的Dom元素收集起来\r\n    })\r\n  },\r\n  methods: {\r\n    onDragstart(el) {\r\n      this.fromDom = el // 记录拖拽时开始的元素\r\n    },\r\n    onDragenter(el) {\r\n      this.toDom = el\r\n      if (this.fromDom === this.toDom) {\r\n        return\r\n      }\r\n      if (this.isPrevNode(this.fromDom, this.toDom)) { // 判断进入节点是否在起始节点的前面\r\n        this.$refs['wrap'].insertBefore(this.fromDom, this.toDom)\r\n        // 将起始节点插入到进入节点的前面\r\n      } else { // 否则就是在之后\r\n        this.$refs['wrap'].insertBefore(this.fromDom, this.toDom.nextSibling)\r\n        // 将起始节点插入到进入节点下一个兄弟节点的前面\r\n      }\r\n    },\r\n    isPrevNode(from, to) { // to是否在from的前面\r\n      while (from.previousSibling !== null) {\r\n        if (from.previousSibling === to) {\r\n          return true\r\n        }\r\n        from = from.previousSibling\r\n      }\r\n    },\r\n    onDragend() {\r\n      console.log(this.data)\r\n      // if (!this.data.length) return\r\n      // const realDomOrder = [...this.$el.children].filter(child => // 获取真实的Dom树\r\n      //   child.classList.contains('__drag_item')\r\n      // )\r\n      // this.getDataOrder(realDomOrder, this.children) // 对比两颗树\r\n    },\r\n    getDataOrder(realList, dragAfterList) {\r\n      const order = realList.map(realItem => { // 拿到打乱Dom树对应的序号\r\n        return dragAfterList.findIndex(dragItem => realItem === dragItem)\r\n      })\r\n      const newData = []\r\n      order.forEach((item, i) => { // 将原数组的数据按照打乱的序号赋值给新数组\r\n        newData[i] = this.data[item]\r\n      })\r\n      this.$emit('watchData', newData) // 新数组的顺序就对应打乱Dom的序号，派发出去\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./drag-warp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./drag-warp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./drag-warp.vue?vue&type=template&id=73c170da&\"\nimport script from \"./drag-warp.vue?vue&type=script&lang=js&\"\nexport * from \"./drag-warp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <drag-warp class=\"wrap\" :data=\"list\" @watchData=\"watchData\">\r\n      <drag-item v-for=\"(item, index) in list\" :key=\"index\" class=\"item\">\r\n        <template #drag>\r\n          <div>拖拽Dom</div>\r\n        </template>\r\n        <div>{{ item }}</div>\r\n      </drag-item>\r\n    </drag-warp></div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport dragItem from './drag-item'\r\nimport dragWarp from './drag-warp'\r\n// import x from ''\r\nexport default {\r\n  name: 'Name',\r\n  components: {\r\n    'drag-item': dragItem,\r\n    'drag-warp': dragWarp\r\n  },\r\n  props: {},\r\n  data() {\r\n    return {\r\n      list: [111, 222, 333, 444, 555, 666, 777, 888, 999]\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  beforeMount() { },\r\n  mounted() { },\r\n  activated() { },\r\n  methods: {\r\n    watchData(newList) {\r\n      console.log('newList', newList)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3b13e4d9&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b13e4d9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}