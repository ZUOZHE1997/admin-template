(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-227ff142"],{3466:function(t,n,r){"use strict";var e=r("1c8b"),i=r("5dfd").findIndex,a=r("258f"),o=r("ff9c"),s="findIndex",c=!0,u=o(s);s in[]&&Array(1)[s]((function(){c=!1})),e({target:"Array",proto:!0,forced:c||!u},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a(s)},4194:function(t,n,r){"use strict";var e=r("1c8b"),i=r("5dfd").find,a=r("258f"),o=r("ff9c"),s="find",c=!0,u=o(s);s in[]&&Array(1)[s]((function(){c=!1})),e({target:"Array",proto:!0,forced:c||!u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a(s)},"477c":function(t,n,r){"use strict";r("aec0")},aec0:function(t,n,r){},d6aa:function(t,n,r){"use strict";r.r(n);var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("drag-warp",{staticClass:"wrap",attrs:{data:t.list},on:{watchData:t.watchData}},t._l(t.list,(function(n,e){return r("drag-item",{key:e,staticClass:"item",scopedSlots:t._u([{key:"drag",fn:function(){return[r("div",[t._v("拖拽Dom")])]},proxy:!0}],null,!0)},[r("div",[t._v(t._s(n))])])})),1)],1)},i=[],a=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"__drag_item",style:{cursor:t.$slots.drag?"":"move"},attrs:{draggable:!t.$slots.drag||t.isDrag},on:{dragstart:function(n){return n.stopPropagation(),t.onDragstart(n)},dragenter:function(n){return n.stopPropagation(),t.onDragenter(n)},dragend:function(n){return n.stopPropagation(),t.onDragend(n)}}},[t._t("drag"),t._t("default"),t._v(" "),t._t("default")],2)},o=[];r("4194"),r("b4fb"),r("fe59"),r("053b"),r("08ba");function s(t,n,r){this.$children.forEach((function(e){var i=e.$options.name;i===t?e.$emit.apply(e,[n].concat(r)):s.apply(e,[t,n].concat([r]))}))}var c={methods:{dispatch:function(t,n,r){var e=this.$parent||this.$root,i=e.$options.name;while(e&&(!i||i!==t))e=e.$parent,e&&(i=e.$options.name);e&&e.$emit.apply(e,[n].concat(r))},broadcast:function(t,n,r){s.call(this,t,n,r)}}},u={name:"DragItem",mixins:[c],data:function(){return{isDrag:!1}},mounted:function(){this.$slots.drag&&this.setSlotAttr(),this.dispatch("DragWrap","putChild",this.$el)},methods:{onDragstart:function(){this.$el.style.opacity="0.3",this.dispatch("DragWrap","dragstart",this.$el)},onDragenter:function(){this.dispatch("DragWrap","dragenter",this.$el)},onDragend:function(){this.$el.style.opacity="1",this.dispatch("DragWrap","dragend")},setSlotAttr:function(){var t=this,n=this.$slots.default.find((function(t){return!t.data&&" "!==t.text})),r=n.elm.previousSibling;null!==r.previousSibling&&console.log(123),r.addEventListener("mouseenter",(function(){t.isDrag=!0})),r.addEventListener("mouseleave",(function(){t.isDrag=!1})),r.style.cursor="move"}}},d=u,f=(r("477c"),r("5d22")),l=Object(f["a"])(d,a,o,!1,null,"72ebafb7",null),h=l.exports,g=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{ref:"wrap",on:{dragenter:function(t){t.preventDefault()},dragover:function(t){t.preventDefault()}}},[t._t("default")],2)},p=[],m=(r("3466"),r("2eeb"),{name:"DragWrap",created:function(){var t=this;this.toDom="",this.fromDom="",this.children=[],this.$on("dragstart",this.onDragstart),this.$on("dragenter",this.onDragenter),this.$on("dragend",this.onDragend),this.$on("putChild",(function(n){t.children.push(n)}))},methods:{onDragstart:function(t){this.fromDom=t},onDragenter:function(t){this.toDom=t,this.fromDom!==this.toDom&&(this.isPrevNode(this.fromDom,this.toDom)?this.$refs["wrap"].insertBefore(this.fromDom,this.toDom):this.$refs["wrap"].insertBefore(this.fromDom,this.toDom.nextSibling))},isPrevNode:function(t,n){while(null!==t.previousSibling){if(t.previousSibling===n)return!0;t=t.previousSibling}},onDragend:function(){console.log(this.data)},getDataOrder:function(t,n){var r=this,e=t.map((function(t){return n.findIndex((function(n){return t===n}))})),i=[];e.forEach((function(t,n){i[n]=r.data[t]})),this.$emit("watchData",i)}}}),D=m,v=Object(f["a"])(D,g,p,!1,null,null,null),$=v.exports,b={name:"Name",components:{"drag-item":h,"drag-warp":$},props:{},data:function(){return{list:[111,222,333,444,555,666,777,888,999]}},computed:{},watch:{},beforeMount:function(){},mounted:function(){},activated:function(){},methods:{watchData:function(t){console.log("newList",t)}}},w=b,_=Object(f["a"])(w,e,i,!1,null,"3b13e4d9",null);n["default"]=_.exports}}]);
//# sourceMappingURL=chunk-227ff142.5f7ea78d.js.map